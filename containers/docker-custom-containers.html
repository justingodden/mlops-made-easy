<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-containers/docker-custom-containers">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Docker - Custom Containers | MLOps Made Easy</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://mlopsmadeeasy.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://mlopsmadeeasy.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://mlopsmadeeasy.com/containers/docker-custom-containers"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Docker - Custom Containers | MLOps Made Easy"><meta data-rh="true" name="description" content="Hopefully you created a free Dockerhub account during the last lesson, as we&#x27;ll be creating and uploading our own images to store in a Dockerhub repo."><meta data-rh="true" property="og:description" content="Hopefully you created a free Dockerhub account during the last lesson, as we&#x27;ll be creating and uploading our own images to store in a Dockerhub repo."><link data-rh="true" rel="icon" href="/img/icon.ico"><link data-rh="true" rel="canonical" href="https://mlopsmadeeasy.com/containers/docker-custom-containers"><link data-rh="true" rel="alternate" href="https://mlopsmadeeasy.com/containers/docker-custom-containers" hreflang="en"><link data-rh="true" rel="alternate" href="https://mlopsmadeeasy.com/containers/docker-custom-containers" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.0d17f585.css">
<link rel="preload" href="/assets/js/runtime~main.757df988.js" as="script">
<link rel="preload" href="/assets/js/main.51a2bc2f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/machine-learning.png" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/machine-learning.png" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">MLOps Made Easy</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/intro">Tutorials</a><a class="navbar__item navbar__link" href="/about">About</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/justingodden/mlops-made-easy" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/category/containers">Containers</a><button aria-label="Toggle the collapsible sidebar category &#x27;Containers&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/containers/docker-basics">Docker - Basics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/containers/container-registries">Container Registries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/containers/docker-custom-containers">Docker - Custom Containers</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/kubernetes">Kubernetes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kubernetes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/-cloud-computing">ðŸ’° Cloud Computing</a><button aria-label="Toggle the collapsible sidebar category &#x27;ðŸ’° Cloud Computing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/-infrastructure-as-code">ðŸ’° Infrastructure as Code</a><button aria-label="Toggle the collapsible sidebar category &#x27;ðŸ’° Infrastructure as Code&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/continuous-integration">Continuous Integration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Continuous Integration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/continuous-delivery">Continuous Delivery</a><button aria-label="Toggle the collapsible sidebar category &#x27;Continuous Delivery&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/security">Security</a><button aria-label="Toggle the collapsible sidebar category &#x27;Security&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/data-engineering">Data Engineering</a><button aria-label="Toggle the collapsible sidebar category &#x27;Data Engineering&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/data-versioning">Data Versioning</a><button aria-label="Toggle the collapsible sidebar category &#x27;Data Versioning&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/experiment-tracking">Experiment Tracking</a><button aria-label="Toggle the collapsible sidebar category &#x27;Experiment Tracking&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/model-repository">Model Repository</a><button aria-label="Toggle the collapsible sidebar category &#x27;Model Repository&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/auto-ml">Auto ML</a><button aria-label="Toggle the collapsible sidebar category &#x27;Auto ML&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/model-serving">Model Serving</a><button aria-label="Toggle the collapsible sidebar category &#x27;Model Serving&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/batch-prediction">Batch Prediction</a><button aria-label="Toggle the collapsible sidebar category &#x27;Batch Prediction&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/system-observability">System Observability</a><button aria-label="Toggle the collapsible sidebar category &#x27;System Observability&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/model-monitoring">Model Monitoring</a><button aria-label="Toggle the collapsible sidebar category &#x27;Model Monitoring&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/scheduled-retraining">Scheduled Retraining</a><button aria-label="Toggle the collapsible sidebar category &#x27;Scheduled Retraining&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/tutorial---basics">Tutorial - Basics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorial - Basics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/tutorial---extras">Tutorial - Extras</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorial - Extras&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/containers"><span itemprop="name">Containers</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Docker - Custom Containers</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Docker - Custom Containers</h1><p>Hopefully you created a free <a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer">Dockerhub</a> account during the last lesson, as we&#x27;ll be creating and uploading our own images to store in a Dockerhub repo.</p><p>Once you&#x27;ve done that and are signed in, create a new public repository named &#x27;mynginx&#x27; like below:</p><p align="center"><img loading="lazy" src="/assets/images/dockerhub-161a4c3c33c9f7249f5eb3e31c8c8421.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dockerfile">Dockerfile<a href="#dockerfile" class="hash-link" aria-label="Direct link to Dockerfile" title="Direct link to Dockerfile">â€‹</a></h2><p>The <code>Dockerfile</code> is the specification of your image. They contain a series of commands that tell Docker what to put into your container image.</p><p>The details aren&#x27;t too important, but Docker has a clever <em>layering</em> system for images, where each of the files that make up a Docker image is a layer, and these layers form a series of intermediate images built on top of each other. This allows Docker to cache layers, and only rebuild the sections of the software that has changed between builds, rather than rebuilding the entire image, speeding up build time.</p><p>Almost all images inherit from a base image from Dockerhub using the <code>FROM</code> command and build layers on top. A very popular base image is <code>ubuntu</code> (of course as we learned in the <a href="/containers/container-registries#dockerhub">last lesson</a> is an alias for <code>docker.io/library/ubuntu:latest</code>). This provides a great Linux environment to further build on top of.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Info</div><div class="admonitionContent_S0QG"><p>The <code>python</code> image is another popular base image (that we will use later). But checking its Dockerfile on <a href="https://github.com/docker-library/python/blob/2bcce464bea3a9c7449a2fe217bf4c24e38e0a47/3.11/bullseye/Dockerfile" target="_blank" rel="noopener noreferrer">GitHub</a> we can see that it inherits from the <a href="https://github.com/docker-library/buildpack-deps/blob/65d69325ad741cea6dee20781c1faaab2e003d87/debian/bullseye/Dockerfile" target="_blank" rel="noopener noreferrer">buildpack-deps:bullseye</a> image, which itself inherits from its own image but with a different tag: <a href="https://github.com/docker-library/buildpack-deps/blob/65d69325ad741cea6dee20781c1faaab2e003d87/debian/bullseye/scm/Dockerfile" target="_blank" rel="noopener noreferrer">buildpack-deps:bullseye-scm</a>, which does the same with another of its tags: <a href="https://github.com/docker-library/buildpack-deps/blob/98a5ab81d47a106c458cdf90733df0ee8beea06c/debian/bullseye/curl/Dockerfile" target="_blank" rel="noopener noreferrer">buildpack-deps:bullseye-curl</a>, which inherits from the <a href="https://github.com/debuerreotype/docker-debian-artifacts/blob/6f70a9d23b69cd08feccb8a8aac5cdfe985e306d/bullseye/Dockerfile" target="_blank" rel="noopener noreferrer">debian:bullseye</a> image. Finally, we can see <code>debian</code> inherits from <a href="https://hub.docker.com/_/scratch" target="_blank" rel="noopener noreferrer">scratch</a>, which is used for building base images.</p><p><code>FROM scratch</code> is considered a <code>no-op</code> in a Dockerfile and won&#x27;t create an extra layer. Fascinating!</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="first-dockerfile">First Dockerfile<a href="#first-dockerfile" class="hash-link" aria-label="Direct link to First Dockerfile" title="Direct link to First Dockerfile">â€‹</a></h2><p>Let&#x27;s create our first Dockerfile. Wee&#x27;ll keep it nice and simple to learn the main commands with the Docker CLI. Create a file named &#x27;Dockerfile&#x27; in your working directory and copy the code below into it.</p><div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Dockerfile</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token instruction keyword" style="color:#00009f">FROM</span><span class="token instruction"> nginx</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">RUN</span><span class="token instruction"> echo </span><span class="token instruction string" style="color:#e3116c">&#x27;&lt;h1&gt;MLOps Made Easy!!&lt;/h1&gt;&#x27;</span><span class="token instruction"> &gt; /usr/share/nginx/html/index.html</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We&#x27;re using the <code>FROM</code> command to inherit from a base <code>nginx</code> image. This is the same image we&#x27;ve used before. We know it exposes a web application on it&#x27;s container port 80. We&#x27;ve then added our own <em>layer</em> with the <code>RUN</code> command, and told it to execute an echo command and pipe its output to an .html file (this is the default location that Nginx serves static html files from).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-build">Docker build<a href="#docker-build" class="hash-link" aria-label="Direct link to Docker build" title="Direct link to Docker build">â€‹</a></h3><p><code>docker build</code> is the command to build images. <code>-t</code> flag tells what to tag the image as. This is in the form <code>&lt;registry-address&gt;/&lt;namespace&gt;/&lt;image-name&gt;:&lt;image-tag&gt;</code>, but as mentioned before, we can omit the <code>registry address</code> and <code>tag</code>, and Docker assumes <code>docker.io</code> and <code>latest</code>, respectively. Lastly we specify the location of the <code>Dockerfile</code>. We have put <code>.</code> to mean in the current directory.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> build -t </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">DOCKERHUB_USERNAME</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/mynginx </span><span class="token builtin class-name">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Note</div><div class="admonitionContent_S0QG"><p>Of course replace <code>&lt;DOCKERHUB_USERNAME&gt;</code> with your actual username!</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-push">Docker push<a href="#docker-push" class="hash-link" aria-label="Direct link to Docker push" title="Direct link to Docker push">â€‹</a></h3><p>Now that we&#x27;ve build the container, we can push it to Dockerhub with the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> push </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">DOCKERHUB_USERNAME</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/mynginx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-run">Docker run<a href="#docker-run" class="hash-link" aria-label="Direct link to Docker run" title="Direct link to Docker run">â€‹</a></h3><p>Finally, we can check if it worked by issuing the command below; running the container in the background with <code>-d</code> and binding our computer&#x27;s port <code>8080</code> with the nginx port <code>80</code> inside the container.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run -d --name nginxcontainer -p </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain">:80 </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">DOCKERHUB_USERNAME</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/mynginx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We can see if it worked by clicking <a href="http://localhost:8080" target="_blank" rel="noopener noreferrer">http://localhost:8080</a>.</p><p><img loading="lazy" src="data:image/png;base64,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" width="328" height="102" class="img_ev3q"></p><p>Great!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bigger-better">Bigger, Better.<a href="#bigger-better" class="hash-link" aria-label="Direct link to Bigger, Better." title="Direct link to Bigger, Better.">â€‹</a></h2><p>In the spirit of our <a href="/about#motivation">ethos</a> to go beyond the <code>Hello, World!</code> examples, let&#x27;s do a more complicated project.</p><p>We&#x27;ll make a better looking web application and learn some more Dockerfile commands along the way.</p><p>The purpose of this tutorial is not to learn Python, I assume some pre-requisite skills, so we won&#x27;t go into too much detail for the following script.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-app">The app<a href="#the-app" class="hash-link" aria-label="Direct link to The app" title="Direct link to The app">â€‹</a></h3><p>We&#x27;re using <a href="https://streamlit.io/" target="_blank" rel="noopener noreferrer">Streamlit</a>, which is a great tool for Python devs to quickly make a nice looking GUI without knowing web development. We&#x27;re also using the <a href="https://www.kaggle.com/datasets/gregorut/videogamesales" target="_blank" rel="noopener noreferrer">Video Game Sales</a> dataset on Kaggle.</p><p>We&#x27;ve created a nice stacked bar chart that shows us total sales per company, broken up by region, with a nice interactive slider to select how many of the top companies you want to view on the chart.</p><p>We&#x27;ve also made a nice line chart of total global sales per year.</p><p>Copy the code below into a file called <code>app.py</code> in your working directory.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">app.py</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> streamlit </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> st</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pandas </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> pd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;https://raw.githubusercontent.com/justingodden/mlops-made-easy-project-code/master/01-containers/streamlit-project/vgsales.csv&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@st</span><span class="token decorator annotation punctuation" style="color:#393A34">.</span><span class="token decorator annotation punctuation" style="color:#393A34">cache_data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">load_data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dataset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> dataset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> load_data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">st</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Video Game Data App&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> st</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">slider</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Top N Companies&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">st</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">header</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Total Sales Broken by Region for top </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">n</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> Companies&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">st</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bar_chart</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">groupby</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Publisher&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;NA_Sales&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;EU_Sales&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;JP_Sales&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Other_Sales&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Global_Sales&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sort_values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ascending</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> by</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Global_Sales&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">drop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Global_Sales&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> axis</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">head</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">st</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">header</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Total Sales per Year&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">st</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">line_chart</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">groupby</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Year&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Global_Sales&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dependencies">Dependencies<a href="#dependencies" class="hash-link" aria-label="Direct link to Dependencies" title="Direct link to Dependencies">â€‹</a></h3><p>We also need a <code>requirements.txt</code> file in the working directory.</p><div class="language-txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">requirements.txt</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-txt codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">streamlit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pandas</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dockerfile-1">Dockerfile<a href="#dockerfile-1" class="hash-link" aria-label="Direct link to Dockerfile" title="Direct link to Dockerfile">â€‹</a></h3><p>Lastly, create a file in your working directory named <code>Dockerfile</code> with the code below pasted in.</p><div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Dockerfile</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token instruction keyword" style="color:#00009f">FROM</span><span class="token instruction"> python:3.10-slim-buster</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">USER</span><span class="token instruction"> root</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">WORKDIR</span><span class="token instruction"> /app/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">COPY</span><span class="token instruction"> . .</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">RUN</span><span class="token instruction"> python -m venv venv</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">RUN</span><span class="token instruction"> . venv/bin/activate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">RUN</span><span class="token instruction"> pip install --upgrade pip</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">RUN</span><span class="token instruction"> pip install --no-cache-dir -r requirements.txt</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">EXPOSE</span><span class="token instruction"> 8501</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">USER</span><span class="token instruction"> 1001</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">ENTRYPOINT</span><span class="token instruction"> [</span><span class="token instruction string" style="color:#e3116c">&quot;streamlit&quot;</span><span class="token instruction">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">CMD</span><span class="token instruction"> [</span><span class="token instruction string" style="color:#e3116c">&quot;run&quot;</span><span class="token instruction">, </span><span class="token instruction string" style="color:#e3116c">&quot;app.py&quot;</span><span class="token instruction">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, we&#x27;ve just seen a few new commands.</p><p>We know the <code>FROM</code> command, but this time we&#x27;ve used a <code>python</code> image. More specifically one with the <code>3.10-slim-buster</code> tag. This means it&#x27;s packaged with Python version 3.10 and is based on the <code>debian:slim-buster</code> image, which is a very small Linux distribution with only the essential packages installed so it has a smaller footprint and a quicker load up time.</p><p>The <code>USER</code> command specifies which Linux user to run the commands as. <code>root</code> user is needed to interact with <code>pip</code>. A Dockerfile&#x27;s default user is whatever is specified in the image it inherits from. Specifying it here isn&#x27;t strictly necessary, as I believe the <code>python</code> image runs as root, otherwise it wouldn&#x27;t be able to use <code>pip</code>. Either way, it&#x27;s nice to be explicit.</p><p><code>WORKDIR</code> both creates a directory, and then moved into it, making it the <em>working directory</em>.</p><p><code>COPY &lt;from&gt; &lt;to&gt;</code> copies files from the host machine (your computer) into the container image. We&#x27;ve used <code>.</code> for both, meaning from whatever folder you&#x27;re currently in right now on your computer, to the <code>/app/</code> directory in the container image. This will copy the <code>app.py</code> and <code>requirements.txt</code> files over.</p><p>We&#x27;ve seen <code>RUN</code> before. We create a virtual environment, activate it, upgrade <code>pip</code> and install <code>streamlit</code> and <code>pandas</code>.</p><p><code>streamlit</code> runs its web application on port <code>8501</code>. The <code>EXPOSE</code> command informs Docker that the container listens on the specified network ports at runtime. However, the <code>EXPOSE</code> command does not actually publish the port. It functions as a type of documentation between the person who builds the image and the person who runs the container, about which ports are intended to be published. To actually publish the port when running the container, we use the <code>-p</code> flag on <code>docker run</code>.</p><p>As per best practices, we don&#x27;t run the container with <code>root</code> privileges, we only used that to install some packages. Now we use the <code>USER</code> command to change to uid <code>1001</code> with only enough permissions to run the app.</p><p><code>ENTRYPOINT</code> and <code>CMD</code> are very similar. In fact, they&#x27;re also similar to <code>RUN</code>. They all issue commands, but do it in different ways and are used for different reasons. <code>RUN</code> executes commands in <em>shell form</em> where the command is run in a shell (such as <code>/bin/sh/</code>) which executes the command (just like we would in a terminal). This is useful for installing packages for example. It looks like <code>pip install etc etc</code>.</p><p>Whereas <code>ENTRYPOINT</code> and <code>CMD</code> are in <em>exec form</em> which looks like <!-- -->[&quot;pip&quot;, &quot;install&quot;, &quot;etc&quot;, &quot;etc&quot;]<!-- -->. These are not run through a shell, they are run through the specified binary directly. <code>ENTRYPOINT</code> is run first, then <code>CMD</code> is appended onto it. <code>ENTRYPOINT</code> in not overridable, but <code>CMD</code> can be overridden when creating a container from the image. This allows a baseline behaviour with <code>ENTRYPOINT</code> but with flexible configurations with <code>CMD</code>. An example might be that you have a application that runs a webserver from the command <code>webserver</code>, and it takes in as command-line arguments the location of the .html file to serve and the port to expose. So you write your <code>Dockerfile</code> as:</p><div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">ENTRYPOINT</span><span class="token instruction"> [</span><span class="token instruction string" style="color:#e3116c">&quot;webserver&quot;</span><span class="token instruction">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">CMD</span><span class="token instruction"> [</span><span class="token instruction string" style="color:#e3116c">&quot;--location&quot;</span><span class="token instruction">, </span><span class="token instruction string" style="color:#e3116c">&quot;/html/index.html&quot;</span><span class="token instruction">, </span><span class="token instruction string" style="color:#e3116c">&quot;--port&quot;</span><span class="token instruction">, </span><span class="token instruction string" style="color:#e3116c">&quot;8888&quot;</span><span class="token instruction">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This provides default values if the user doesn&#x27;t want to change anything, but if they do, we can do as follows:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run example-image --location /other/file.html --port </span><span class="token number" style="color:#36acaa">9999</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dockerhub-repo">Dockerhub repo<a href="#dockerhub-repo" class="hash-link" aria-label="Direct link to Dockerhub repo" title="Direct link to Dockerhub repo">â€‹</a></h3><p>Before we forget, make another public repository on your Dockerhub account called &#x27;mystreamlitapp&#x27;.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="build-push-run">Build, push, run<a href="#build-push-run" class="hash-link" aria-label="Direct link to Build, push, run" title="Direct link to Build, push, run">â€‹</a></h3><p>Okay, let&#x27;s give it a go. Same as before (remember to replace <code>&lt;DOCKERHUB_USERNAME&gt;</code> with <strong>your Dockerhub username</strong>).</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> build -t </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">DOCKERHUB_USERNAME</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/mystreamlitapp:0.1.0 </span><span class="token builtin class-name">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> push </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">DOCKERHUB_USERNAME</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/mystreamlitapp:0.1.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run -d --name streamlitapp -p </span><span class="token number" style="color:#36acaa">8081</span><span class="token plain">:8501 </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">DOCKERHUB_USERNAME</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/mystreamlitapp:0.1.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="result">Result<a href="#result" class="hash-link" aria-label="Direct link to Result" title="Direct link to Result">â€‹</a></h3><p>If all goes to plan, we can open <a href="http://localhost:8081" target="_blank" rel="noopener noreferrer">http://localhost:8081</a> and see a beautiful interactive dashboard!</p><p align="center"><img loading="lazy" src="/assets/images/streamlit-e356f5c3c1822563fa015759cc423478.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cleanup">Cleanup<a href="#cleanup" class="hash-link" aria-label="Direct link to Cleanup" title="Direct link to Cleanup">â€‹</a></h2><p>Excellent work. Let&#x27;s just clear up the mess we made and shut down the running containers!</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-kill"><code>docker kill</code><a href="#docker-kill" class="hash-link" aria-label="Direct link to docker-kill" title="Direct link to docker-kill">â€‹</a></h3><p>First we can use the two <code>kill</code> commands below to stop both running containers.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">kill</span><span class="token plain"> nginxcontainer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">kill</span><span class="token plain"> streamlitapp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-rm"><code>docker rm</code><a href="#docker-rm" class="hash-link" aria-label="Direct link to docker-rm" title="Direct link to docker-rm">â€‹</a></h3><p>The we can use <code>rm</code> to remove the stopped container from our computer.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> nginxcontainer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> streamlitapp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-rmi"><code>docker rmi</code><a href="#docker-rmi" class="hash-link" aria-label="Direct link to docker-rmi" title="Direct link to docker-rmi">â€‹</a></h3><p>Optionally, we can also delete the docker image with <code>rmi</code> if we wish to save some hard disk space.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> rmi </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">DOCKERHUB_USERNAME</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/mynginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> rmi </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">DOCKERHUB_USERNAME</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/mystreamlitapp:0.1.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Note</div><div class="admonitionContent_S0QG"><p>Using <code>docker rmi &lt;username&gt;/&lt;image&gt;</code> does not delete the image from Dockerhub, only from where it&#x27;s stored locally on your computer.</p></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/containers/container-registries"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Container Registries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/category/kubernetes"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Kubernetes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#dockerfile" class="table-of-contents__link toc-highlight">Dockerfile</a></li><li><a href="#first-dockerfile" class="table-of-contents__link toc-highlight">First Dockerfile</a><ul><li><a href="#docker-build" class="table-of-contents__link toc-highlight">Docker build</a></li><li><a href="#docker-push" class="table-of-contents__link toc-highlight">Docker push</a></li><li><a href="#docker-run" class="table-of-contents__link toc-highlight">Docker run</a></li></ul></li><li><a href="#bigger-better" class="table-of-contents__link toc-highlight">Bigger, Better.</a><ul><li><a href="#the-app" class="table-of-contents__link toc-highlight">The app</a></li><li><a href="#dependencies" class="table-of-contents__link toc-highlight">Dependencies</a></li><li><a href="#dockerfile-1" class="table-of-contents__link toc-highlight">Dockerfile</a></li><li><a href="#dockerhub-repo" class="table-of-contents__link toc-highlight">Dockerhub repo</a></li><li><a href="#build-push-run" class="table-of-contents__link toc-highlight">Build, push, run</a></li><li><a href="#result" class="table-of-contents__link toc-highlight">Result</a></li></ul></li><li><a href="#cleanup" class="table-of-contents__link toc-highlight">Cleanup</a><ul><li><a href="#docker-kill" class="table-of-contents__link toc-highlight"><code>docker kill</code></a></li><li><a href="#docker-rm" class="table-of-contents__link toc-highlight"><code>docker rm</code></a></li><li><a href="#docker-rmi" class="table-of-contents__link toc-highlight"><code>docker rmi</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/intro">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/about">About</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/arenaml" target="_blank" rel="noopener noreferrer" class="footer__link-item">Arena ML<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://linkedin.com/in/justingodden/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/justingodden/mlops-made-easy" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 Justin Godden</div></div></div></footer></div>
<script src="/assets/js/runtime~main.757df988.js"></script>
<script src="/assets/js/main.51a2bc2f.js"></script>
</body>
</html>