"use strict";(self.webpackChunkmlops_made_easy=self.webpackChunkmlops_made_easy||[]).push([[9184],{3905:(e,t,X)=>{X.d(t,{Zo:()=>c,kt:()=>f});var n=X(7294);function r(e,t,X){return t in e?Object.defineProperty(e,t,{value:X,enumerable:!0,configurable:!0,writable:!0}):e[t]=X,e}function a(e,t){var X=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),X.push.apply(X,n)}return X}function o(e){for(var t=1;t<arguments.length;t++){var X=null!=arguments[t]?arguments[t]:{};t%2?a(Object(X),!0).forEach((function(t){r(e,t,X[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(X)):a(Object(X)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(X,t))}))}return e}function p(e,t){if(null==e)return{};var X,n,r=function(e,t){if(null==e)return{};var X,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)X=a[n],t.indexOf(X)>=0||(r[X]=e[X]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)X=a[n],t.indexOf(X)>=0||Object.prototype.propertyIsEnumerable.call(e,X)&&(r[X]=e[X])}return r}var i=n.createContext({}),s=function(e){var t=n.useContext(i),X=t;return e&&(X="function"==typeof e?e(t):o(o({},t),e)),X},c=function(e){var t=s(e.components);return n.createElement(i.Provider,{value:t},e.children)},l="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var X=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),l=s(X),d=r,f=l["".concat(i,".").concat(d)]||l[d]||u[d]||a;return X?n.createElement(f,o(o({ref:t},c),{},{components:X})):n.createElement(f,o({ref:t},c))}));function f(e,t){var X=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=X.length,o=new Array(a);o[0]=d;var p={};for(var i in t)hasOwnProperty.call(t,i)&&(p[i]=t[i]);p.originalType=e,p[l]="string"==typeof e?e:r,o[1]=p;for(var s=2;s<a;s++)o[s]=X[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,X)}d.displayName="MDXCreateElement"},8899:(e,t,X)=>{X.r(t),X.d(t,{assets:()=>i,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>p,toc:()=>s});var n=X(7462),r=(X(7294),X(3905));const a={sidebar_position:2},o="App of Apps Pattern",p={unversionedId:"continuous-delivery/app-of-apps",id:"continuous-delivery/app-of-apps",title:"App of Apps Pattern",description:"GitHub SSH Key",source:"@site/docs/06-continuous-delivery/02-app-of-apps.md",sourceDirName:"06-continuous-delivery",slug:"/continuous-delivery/app-of-apps",permalink:"/continuous-delivery/app-of-apps",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"ArgoCD",permalink:"/continuous-delivery/argocd"},next:{title:"First Application",permalink:"/continuous-delivery/first-application"}},i={},s=[{value:"GitHub SSH Key",id:"github-ssh-key",level:2},{value:"App of Apps",id:"app-of-apps",level:2}],c={toc:s},l="wrapper";function u(e){let{components:t,...X}=e;return(0,r.kt)(l,(0,n.Z)({},c,X,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"app-of-apps-pattern"},"App of Apps Pattern"),(0,r.kt)("h2",{id:"github-ssh-key"},"GitHub SSH Key"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"apiVersion: v1\nkind: Secret\nmetadata:\n  name: private-repo\n  namespace: argocd\n  labels:\n    argocd.argoproj.io/secret-type: repository\nstringData:\n  type: git\n  url: git@github.com:justingodden/mlops-made-easy-project-code.git\n  sshPrivateKey: |\n    -----BEGIN OPENSSH PRIVATE KEY-----\n    XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n    XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n    XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n    XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n    XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n    -----END OPENSSH PRIVATE KEY-----\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"kubectl -n argocd create -f secret.yaml\n")),(0,r.kt)("h2",{id:"app-of-apps"},"App of Apps"),(0,r.kt)("p",null,"create application"),(0,r.kt)("p",null,"edit as YAML\npaste below"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: argoproj.io/v1alpha1\nkind: Application\nmetadata:\n  name: argo-apps\n  namespace: argocd\n  finalizers:\n    - resources-finalizer.argocd.argoproj.io\nspec:\n  project: default\n  source:\n    repoURL: git@github.com:justingodden/mlops-made-easy-project-code.git\n    targetRevision: HEAD\n    path: 06-continuous-delivery/argocd\n    directory:\n      recurse: true\n  destination:\n    server: "https://kubernetes.default.svc"\n  syncPolicy:\n    automated:\n      prune: true\n      selfHeal: true\n')),(0,r.kt)("p",null,"remember to save\ncreate"))}u.isMDXComponent=!0}}]);